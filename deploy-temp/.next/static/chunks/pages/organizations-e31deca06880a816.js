(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[100],{8629:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/organizations",function(){return t(3481)}])},3481:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(4848),l=t(6540),r=t(983);function n(){let[e,s]=(0,l.useState)([]),[t,n]=(0,l.useState)(!0),[i,c]=(0,l.useState)(null),d=(0,r.useSupabaseClient)(),x=(0,r.useUser)(),h=(0,l.useCallback)(async()=>{try{let{data:e,error:t}=await d.from("organizations").select("*");if(t)throw t;s(e||[]),c(null)}catch(e){c(e instanceof Error?e.message:"Failed to fetch organizations")}finally{n(!1)}},[d]);return((0,l.useEffect)(()=>{if(!x){window.location.href="/auth/signin";return}h()},[x,h]),x)?t?(0,a.jsx)("div",{className:"p-4",children:"Loading organizations..."}):i?(0,a.jsxs)("div",{className:"p-4 text-red-500",children:["Error: ",i]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,a.jsx)("header",{className:"bg-gray-800 p-4 shadow-lg",children:(0,a.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-xl font-bold",children:"FlowSupport"}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsx)("span",{children:x.email})})]})}),(0,a.jsxs)("main",{className:"container mx-auto p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Organizations"}),(0,a.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg",children:"Create New Org"})]}),0===e.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-400",children:"No organizations found."}):(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-700",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:"Name"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:"SLA Tier"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:"Created At"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{className:"border-t border-gray-700",children:[(0,a.jsx)("td",{className:"px-6 py-4",children:e.name}),(0,a.jsx)("td",{className:"px-6 py-4",children:e.sla_tier}),(0,a.jsx)("td",{className:"px-6 py-4",children:new Date(e.created_at).toLocaleDateString()}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("button",{className:"text-blue-400 hover:text-blue-300 mr-3",children:"Edit"}),(0,a.jsx)("button",{className:"text-red-400 hover:text-red-300",children:"Delete"})]})]},e.id))})]})})]})]}):null}}},e=>{var s=s=>e(e.s=s);e.O(0,[636,593,792],()=>s(8629)),_N_E=e.O()}]);