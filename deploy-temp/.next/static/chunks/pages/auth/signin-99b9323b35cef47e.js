(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[443],{2448:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/signin",function(){return t(8651)}])},8817:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var r=t(4848);function l(e){let{children:s,title:t}=e;return(0,r.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:(0,r.jsxs)("div",{className:"w-full max-w-md px-8 py-12",children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)("h1",{className:"text-4xl font-bold text-center mb-2",children:t})}),s]})})}t(6540)},8651:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var r=t(4848),l=t(6540),a=t(6715),n=t(5234),i=t(8817),o=t(1106),c=t.n(o);function d(){let e=(0,a.useRouter)(),{from:s}=e.query,t=(0,n.createClientComponentClient)(),[o,d]=(0,l.useState)(""),[u,m]=(0,l.useState)(""),[h,x]=(0,l.useState)(null),[f,g]=(0,l.useState)(!1),[p,b]=(0,l.useState)(!1),w=async()=>{try{console.log("[SIGNIN] Starting Google sign-in flow"),x(null),g(!0);let e=await fetch("/api/auth/google-oauth-url"),s=await e.json();if(h)throw h;if(null==s?void 0:s.url)console.log("[SIGNIN] Redirecting to OAuth URL"),window.location.href=s.url;else throw Error("No OAuth URL received")}catch(e){console.error("[SIGNIN] Google sign-in error:",e),x(e instanceof Error?e.message:"Failed to start Google sign-in")}finally{g(!1)}},y=async r=>{r.preventDefault(),x(null),g(!0);try{let{error:r}=await t.auth.signInWithPassword({email:o,password:u});if(r)throw r;e.push("string"==typeof s?decodeURIComponent(s):"/dashboard")}catch(e){x(e instanceof Error?e.message:"Failed to sign in")}finally{g(!1)}};return(0,r.jsx)(i.A,{title:"Welcome back",children:(0,r.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[h&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-100 text-red-600 p-4 rounded-lg text-sm font-medium animate-fade-in",children:h}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-900",children:"Work Email"}),(0,r.jsx)("input",{id:"email",type:"email",value:o,onChange:e=>d(e.target.value),required:!0,className:"mt-1 block w-full rounded-lg border border-gray-300 px-4 py-2.5 text-gray-900 placeholder-gray-500 transition-colors duration-200 ease-in-out focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",placeholder:"you@company.com"})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-900",children:"Password"}),(0,r.jsx)("input",{id:"password",type:"password",value:u,onChange:e=>m(e.target.value),required:!0,className:"mt-1 block w-full rounded-lg border border-gray-300 px-4 py-2.5 text-gray-900 placeholder-gray-500 transition-colors duration-200 ease-in-out focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",placeholder:"••••••••"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{id:"remember-me",type:"checkbox",checked:p,onChange:e=>b(e.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 focus:ring-offset-2 transition duration-150 ease-in-out"}),(0,r.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 select-none",children:"Keep me signed in"})]}),(0,r.jsx)(c(),{href:"/auth/forgot-password",className:"text-sm font-medium text-blue-600 hover:text-blue-700 transition duration-150 ease-in-out",children:"Forgot your password?"})]}),(0,r.jsx)("button",{type:"submit",disabled:f,className:"relative w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-150 ease-in-out",children:f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,r.jsx)("span",{className:"pl-8",children:"Signing in..."})]}):"Sign in"}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,r.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or sign in with"})})]}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsxs)("button",{type:"button",onClick:w,disabled:f,className:"w-full inline-flex items-center justify-center py-2.5 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-150 ease-in-out",children:[(0,r.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M23.766 12.2764C23.766 11.4607 23.6999 10.6406 23.5588 9.83807H12.24V14.4591H18.7217C18.4528 15.9494 17.5885 17.2678 16.323 18.1056V21.1039H20.19C22.4608 19.0139 23.766 15.9274 23.766 12.2764Z",fill:"#4285F4"}),(0,r.jsx)("path",{d:"M12.24 24.0008C15.4764 24.0008 18.2058 22.9382 20.1944 21.1039L16.3274 18.1055C15.2516 18.8375 13.8626 19.252 12.24 19.252C9.07376 19.252 6.39389 17.1399 5.44176 14.3003H1.45166V17.3912C3.50195 21.4434 7.63825 24.0008 12.24 24.0008Z",fill:"#34A853"}),(0,r.jsx)("path",{d:"M5.44175 14.3003C5.21164 13.5681 5.08083 12.7862 5.08083 12.0008C5.08083 11.2154 5.21164 10.4335 5.44175 9.70129V6.61041H1.45165C0.524374 8.23827 0 10.0657 0 12.0008C0 13.9359 0.524374 15.7633 1.45165 17.3912L5.44175 14.3003Z",fill:"#FBBC05"}),(0,r.jsx)("path",{d:"M12.24 4.74966C14.0291 4.74966 15.6265 5.36715 16.8902 6.56198L20.2694 3.18264C18.1999 1.21215 15.4708 0 12.24 0C7.63825 0 3.50195 2.55737 1.45166 6.61038L5.44176 9.70126C6.39389 6.86173 9.07376 4.74966 12.24 4.74966Z",fill:"#EA4335"})]}),(0,r.jsx)("span",{className:"ml-2",children:"Continue with Google"})]})})]}),(0,r.jsxs)("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Don't have an account?"," ",(0,r.jsx)(c(),{href:"/auth/signup",className:"font-medium text-blue-600 hover:text-blue-700 transition duration-150 ease-in-out",children:"Sign up"})]})]})})}},6715:(e,s,t)=>{e.exports=t(8440)}},e=>{var s=s=>e(e.s=s);e.O(0,[106,636,593,792],()=>s(2448)),_N_E=e.O()}]);