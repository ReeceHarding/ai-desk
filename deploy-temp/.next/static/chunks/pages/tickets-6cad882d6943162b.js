(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[111],{1873:(e,t,s)=>{var a=s(9325).Symbol;e.exports=a},2552:(e,t,s)=>{var a=s(1873),r=s(659),l=s(9350),n=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":n&&n in Object(e)?r(e):l(e)}},4128:(e,t,s)=>{var a=s(1800),r=/^\s+/;e.exports=function(e){return e?e.slice(0,a(e)+1).replace(r,""):e}},4840:(e,t,s)=>{var a="object"==typeof s.g&&s.g&&s.g.Object===Object&&s.g;e.exports=a},659:(e,t,s)=>{var a=s(1873),r=Object.prototype,l=r.hasOwnProperty,n=r.toString,i=a?a.toStringTag:void 0;e.exports=function(e){var t=l.call(e,i),s=e[i];try{e[i]=void 0;var a=!0}catch(e){}var r=n.call(e);return a&&(t?e[i]=s:delete e[i]),r}},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9325:(e,t,s)=>{var a=s(4840),r="object"==typeof self&&self&&self.Object===Object&&self,l=a||r||Function("return this")();e.exports=l},1800:e=>{var t=/\s/;e.exports=function(e){for(var s=e.length;s--&&t.test(e.charAt(s)););return s}},8221:(e,t,s)=>{var a=s(3805),r=s(124),l=s(6993),n=Math.max,i=Math.min;e.exports=function(e,t,s){var o,c,d,u,m,f,x=0,p=!1,h=!1,g=!0;if("function"!=typeof e)throw TypeError("Expected a function");function v(t){var s=o,a=c;return o=c=void 0,x=t,u=e.apply(a,s)}function b(e){var s=e-f,a=e-x;return void 0===f||s>=t||s<0||h&&a>=d}function y(){var e,s,a,l=r();if(b(l))return j(l);m=setTimeout(y,(e=l-f,s=l-x,a=t-e,h?i(a,d-s):a))}function j(e){return(m=void 0,g&&o)?v(e):(o=c=void 0,u)}function N(){var e,s=r(),a=b(s);if(o=arguments,c=this,f=s,a){if(void 0===m)return x=e=f,m=setTimeout(y,t),p?v(e):u;if(h)return clearTimeout(m),m=setTimeout(y,t),v(f)}return void 0===m&&(m=setTimeout(y,t)),u}return t=l(t)||0,a(s)&&(p=!!s.leading,d=(h="maxWait"in s)?n(l(s.maxWait)||0,t):d,g="trailing"in s?!!s.trailing:g),N.cancel=function(){void 0!==m&&clearTimeout(m),x=0,o=f=c=m=void 0},N.flush=function(){return void 0===m?u:j(r())},N}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},4394:(e,t,s)=>{var a=s(2552),r=s(346);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==a(e)}},124:(e,t,s)=>{var a=s(9325);e.exports=function(){return a.Date.now()}},6993:(e,t,s)=>{var a=s(4128),r=s(3805),l=s(4394),n=0/0,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(l(e))return n;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=a(e);var s=o.test(e);return s||c.test(e)?d(e.slice(2),s?2:8):i.test(e)?n:+e}},9917:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tickets",function(){return s(2971)}])},5366:(e,t,s)=>{"use strict";s.d(t,{eu:()=>i});var a=s(4848),r=s(6540),l=s(5847),n=s(6094);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.bL,{ref:t,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});i.displayName=l.bL.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l._V,{ref:t,className:(0,n.cn)("aspect-square h-full w-full",s),...r})}).displayName=l._V.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.H4,{ref:t,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r})}).displayName=l.H4.displayName},6136:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var a=s(4848);s(6540);var r=s(2732),l=s(6094);let n=(0,r.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(n({variant:s}),t),...r})}},6977:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var a=s(4848),r=s(6540),l=s(3362),n=s(2732),i=s(6094);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:c=!1,...d}=e,u=c?l.DX:"button";return(0,a.jsx)(u,{className:(0,i.cn)(o({variant:r,size:n,className:s})),ref:t,...d})});c.displayName="Button"},7252:(e,t,s)=>{"use strict";s.d(t,{SQ:()=>m,_2:()=>f,rI:()=>d,ty:()=>u});var a=s(4848),r=s(6540),l=s(1007),n=s(6840),i=s(8404),o=s(8034),c=s(6094);let d=l.bL,u=l.l9;l.YJ,l.ZL,l.Pb,l.z6,r.forwardRef((e,t)=>{let{className:s,inset:r,children:i,...o}=e;return(0,a.jsxs)(l.ZP,{ref:t,className:(0,c.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",s),...o,children:[i,(0,a.jsx)(n.A,{className:"ml-auto"})]})}).displayName=l.ZP.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.G5,{ref:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})}).displayName=l.G5.displayName;let m=r.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...n}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsx)(l.UC,{ref:t,sideOffset:r,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})})});m.displayName=l.UC.displayName;let f=r.forwardRef((e,t)=>{let{className:s,inset:r,...n}=e;return(0,a.jsx)(l.q7,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",r&&"pl-8",s),...n})});f.displayName=l.q7.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,checked:n,...o}=e;return(0,a.jsxs)(l.H_,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:n,...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})}),r]})}).displayName=l.H_.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(l.hN,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(o.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=l.hN.displayName,r.forwardRef((e,t)=>{let{className:s,inset:r,...n}=e;return(0,a.jsx)(l.JU,{ref:t,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",s),...n})}).displayName=l.JU.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.wv,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=l.wv.displayName},53:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(4848),r=s(6540),l=s(6094);let n=r.forwardRef((e,t)=>{let{className:s,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...n})});n.displayName="Input"},2688:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var a=s(4848),r=s(6094);function l(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-primary/10",t),...s})}},7724:(e,t,s)=>{"use strict";s.d(t,{h:()=>l});var a=s(6540),r=s(983);function l(){let[e,t]=(0,a.useState)("customer"),[s,l]=(0,a.useState)(!0),n=(0,r.useSupabaseClient)(),i=(0,r.useUser)();return(0,a.useEffect)(()=>{(async function(){if(!i){console.log("useUserRole - No user found"),l(!1);return}console.log("useUserRole - Fetching role for user:",i.id);let{data:e,error:s}=await n.from("profiles").select("role").eq("id",i.id).single();if(s){console.error("useUserRole - Error fetching user role:",s),l(!1);return}console.log("useUserRole - Fetched role:",null==e?void 0:e.role),t((null==e?void 0:e.role)||"customer"),l(!1)})()},[i,n]),{role:e,loading:s}}},6094:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var a=s(4164),r=s(856);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},2971:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>U});var a=s(4848),r=s(6540),l=s(6715),n=s(983),i=s(7724),o=s(2097),c=s(7680),d=s(6977),u=s(53),m=s(6136),f=s(5366),x=s(2688),p=s(7252),h=s(8008),g=s(1798),v=s(2149),b=s(5496),y=s(261),j=s(3741),N=s(9279);let w=(0,N.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),k=(0,N.A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var _=s(9664);let C=(0,N.A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var A=s(8404);let S=(0,N.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var E=s(4668),T=s(9261),z=s(8221),R=s.n(z);let L={open:"bg-blue-500/10 text-blue-500",pending:"bg-yellow-500/10 text-yellow-500",on_hold:"bg-orange-500/10 text-orange-500",solved:"bg-green-500/10 text-green-500",closed:"bg-slate-500/10 text-slate-500"},O={low:"bg-blue-500/10 text-blue-500",medium:"bg-yellow-500/10 text-yellow-500",high:"bg-orange-500/10 text-orange-500",urgent:"bg-red-500/10 text-red-500"},P=e=>{let{status:t,className:s}=e,r={open:h.A,pending:g.A,on_hold:v.A,solved:b.A,closed:y.A}[t]||j.A;return(0,a.jsx)(r,{className:s||"h-4 w-4"})};function U(){let[e,t]=(0,r.useState)([]),[s,h]=(0,r.useState)(!0),[g,v]=(0,r.useState)(""),[b,N]=(0,r.useState)(""),[z,U]=(0,r.useState)([]),[$,q]=(0,r.useState)([]),[F,M]=(0,r.useState)("created_at"),[D,V]=(0,r.useState)("desc"),I=(0,n.useSupabaseClient)(),H=(0,n.useUser)(),X=(0,l.useRouter)(),{role:Z,loading:J}=(0,i.h)(),Q=(0,r.useCallback)(R()(e=>{N(e)},300),[]);(0,r.useEffect)(()=>{async function e(){if(!H)return;let e=I.from("tickets").select("\n          *,\n          customer:profiles!tickets_customer_id_fkey (\n            display_name,\n            email,\n            avatar_url\n          ),\n          organization:organizations!tickets_org_id_fkey (\n            name\n          )\n        ").is("deleted_at",null);"customer"===Z&&e.eq("customer_id",H.id);let{data:s,error:a}=await e;if(a){console.error("Error fetching tickets:",a);return}s&&t(s.map(e=>({...e,customer:e.customer,organization:e.organization}))),h(!1)}J||e()},[H,I,Z,J]);let G=e.filter(e=>{var t,s,a,r;return(""===b||e.subject.toLowerCase().includes(b.toLowerCase())||e.description.toLowerCase().includes(b.toLowerCase())||(null===(s=e.customer)||void 0===s?void 0:null===(t=s.email)||void 0===t?void 0:t.toLowerCase().includes(b.toLowerCase()))||(null===(r=e.customer)||void 0===r?void 0:null===(a=r.display_name)||void 0===a?void 0:a.toLowerCase().includes(b.toLowerCase())))&&(0===z.length||z.includes(e.status))&&(0===$.length||$.includes(e.priority))}).sort((e,t)=>{let s=e[F],a=t[F];return"string"==typeof s&&"string"==typeof a?"asc"===D?s.localeCompare(a):a.localeCompare(s):s instanceof Date&&a instanceof Date?"asc"===D?s.getTime()-a.getTime():a.getTime()-s.getTime():0});return s||J?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 to-slate-950 text-white p-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,a.jsx)(x.E,{className:"h-12 w-full"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(x.E,{className:"h-16 w-full"}),(0,a.jsx)(x.E,{className:"h-16 w-full"}),(0,a.jsx)(x.E,{className:"h-16 w-full"})]})]})}):H?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 to-slate-950 text-white",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto p-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold mb-1",children:"Tickets"}),(0,a.jsx)("p",{className:"text-slate-400",children:"Manage and track support requests"})]}),(0,a.jsxs)(m.E,{className:"bg-blue-500/10 text-blue-500",children:[G.length," ",1===G.length?"Ticket":"Tickets"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative w-64",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:(0,a.jsx)(w,{className:"h-4 w-4 text-slate-400"})}),(0,a.jsx)(u.p,{placeholder:"Search tickets...",value:g,onChange:e=>{let t=e.target.value.trim();v(t),Q(t)},className:"pl-9"})]}),(0,a.jsxs)(p.rI,{children:[(0,a.jsx)(p.ty,{asChild:!0,children:(0,a.jsxs)(d.$,{variant:"secondary",className:"gap-2 bg-slate-800/90 text-slate-100 hover:bg-slate-700/90 border border-slate-700 shadow-lg transition-all duration-200",children:[(0,a.jsx)(k,{className:"h-4 w-4"}),"Filters",(z.length>0||$.length>0)&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-medium bg-indigo-500/20 text-indigo-300 rounded-full",children:z.length+$.length}),(0,a.jsx)(_.A,{className:"h-4 w-4 opacity-70"})]}),0===z.length&&0===$.length&&(0,a.jsx)(_.A,{className:"h-4 w-4 opacity-70"})]})}),(0,a.jsx)(p.SQ,{className:"w-56 bg-slate-800 border-slate-700 text-slate-100",children:(0,a.jsxs)("div",{className:"space-y-6 p-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-sm font-semibold text-slate-200 mb-3 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-1 w-1 rounded-full bg-slate-500"}),"Status"]}),(0,a.jsx)("div",{className:"space-y-2.5",children:Object.keys(L).map(e=>(0,a.jsxs)("label",{className:"flex items-center gap-2.5 cursor-pointer group",children:[(0,a.jsx)("div",{className:"relative flex items-center",children:(0,a.jsx)("input",{type:"checkbox",checked:z.includes(e),onChange:t=>{t.target.checked?U([...z,e]):U(z.filter(t=>t!==e))},className:"peer h-4 w-4 rounded-sm border-slate-600 bg-slate-700/50 text-indigo-500 focus:ring-1 focus:ring-indigo-500 focus:ring-offset-0 transition-all duration-200"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,a.jsx)(P,{status:e,className:"h-3.5 w-3.5"}),(0,a.jsx)("span",{className:"capitalize text-sm ".concat(L[e]," group-hover:opacity-80 transition-opacity duration-200"),children:e})]})]},e))})]}),(0,a.jsxs)("div",{className:"border-t border-slate-700/50 pt-6",children:[(0,a.jsxs)("h4",{className:"text-sm font-semibold text-slate-200 mb-3 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-1 w-1 rounded-full bg-slate-500"}),"Priority"]}),(0,a.jsx)("div",{className:"space-y-2.5",children:Object.keys(O).map(e=>(0,a.jsxs)("label",{className:"flex items-center gap-2.5 cursor-pointer group",children:[(0,a.jsx)("div",{className:"relative flex items-center",children:(0,a.jsx)("input",{type:"checkbox",checked:$.includes(e),onChange:t=>{t.target.checked?q([...$,e]):q($.filter(t=>t!==e))},className:"peer h-4 w-4 rounded-sm border-slate-600 bg-slate-700/50 text-indigo-500 focus:ring-1 focus:ring-indigo-500 focus:ring-offset-0 transition-all duration-200"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,a.jsx)(j.A,{className:"h-3.5 w-3.5 ".concat(O[e].replace("bg-","text-"))}),(0,a.jsx)("span",{className:"uppercase text-sm ".concat(O[e]," group-hover:opacity-80 transition-opacity duration-200"),children:e})]})]},e))})]}),(0,a.jsxs)(p._2,{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{U(z.includes("email")?z.filter(e=>"email"!==e):[...z,"email"])},children:[(0,a.jsxs)("div",{className:"flex items-center flex-1",children:[(0,a.jsx)(C,{className:"h-4 w-4 mr-2"}),"Email Tickets"]}),z.includes("email")&&(0,a.jsx)(A.A,{className:"h-4 w-4"})]}),(z.length>0||$.length>0)&&(0,a.jsx)("div",{className:"border-t border-slate-700/50 pt-4",children:(0,a.jsx)(d.$,{variant:"ghost",className:"w-full text-slate-400 hover:text-white hover:bg-slate-700/50 transition-all duration-200 rounded-md",onClick:()=>{U([]),q([])},children:"Clear all filters"})})]})})]}),(0,a.jsxs)(d.$,{className:"gap-2",onClick:()=>X.push("/tickets/new"),children:[(0,a.jsx)(S,{className:"h-4 w-4"}),"New Ticket"]})]})]}),(z.length>0||$.length>0)&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[z.map(e=>(0,a.jsxs)(m.E,{variant:"secondary",className:"".concat(L[e]," cursor-pointer hover:opacity-80"),onClick:()=>U(z.filter(t=>t!==e)),children:[(0,a.jsx)(P,{status:e,className:"h-3 w-3 mr-1"}),e,(0,a.jsx)(E.A,{className:"h-3 w-3 ml-1",onClick:t=>{t.stopPropagation(),U(z.filter(t=>t!==e))}})]},e)),$.map(e=>(0,a.jsxs)(m.E,{variant:"secondary",className:"".concat(O[e]," cursor-pointer hover:opacity-80"),onClick:()=>q($.filter(t=>t!==e)),children:[(0,a.jsx)(j.A,{className:"h-3 w-3 mr-1"}),e.toUpperCase(),(0,a.jsx)(E.A,{className:"h-3 w-3 ml-1",onClick:t=>{t.stopPropagation(),q($.filter(t=>t!==e))}})]},e)),(z.length>0||$.length>0)&&(0,a.jsx)(d.$,{variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white",onClick:()=>{U([]),q([])},children:"Clear all"})]}),0===G.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-slate-800/50 mb-4",children:(0,a.jsx)(w,{className:"h-6 w-6 text-slate-400"})}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No tickets found"}),(0,a.jsx)("p",{className:"text-slate-400 max-w-md mx-auto",children:g?'No tickets match your search "'.concat(g,'". Try adjusting your search terms.'):"No tickets match the selected filters. Try adjusting your filter criteria."})]}),G.length>0&&(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsx)("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-lg overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full text-sm text-slate-300",children:[(0,a.jsx)("thead",{className:"bg-slate-900/50 backdrop-blur-sm",children:(0,a.jsxs)("tr",{className:"border-b border-slate-800",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Subject"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Customer"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Status"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Priority"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Created"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium"})]})}),(0,a.jsx)("tbody",{children:G.map(e=>{var t,s,r,l;return(0,a.jsxs)(c.P.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"border-b border-slate-800 hover:bg-slate-800/50 transition-colors cursor-pointer",onClick:()=>X.push("/tickets/".concat(e.id)),children:[(0,a.jsxs)("td",{className:"py-3 px-4",children:[(0,a.jsx)("div",{className:"font-medium text-white",children:e.subject}),(0,a.jsx)("div",{className:"text-slate-400 truncate max-w-md",children:e.description})]}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(f.eu,{children:(0,a.jsx)("img",{src:(null===(t=e.customer)||void 0===t?void 0:t.avatar_url)||void 0,alt:(null===(s=e.customer)||void 0===s?void 0:s.display_name)||"Customer"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:(null===(r=e.customer)||void 0===r?void 0:r.display_name)||"Unknown Customer"}),(0,a.jsx)("div",{className:"text-slate-400",children:null===(l=e.customer)||void 0===l?void 0:l.email})]})]})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)(m.E,{className:L[e.status],children:[(0,a.jsx)(P,{status:e.status}),(0,a.jsx)("span",{className:"ml-1 capitalize",children:e.status})]})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)(m.E,{className:O[e.priority],children:e.priority.toUpperCase()})}),(0,a.jsx)("td",{className:"py-3 px-4 text-slate-400",children:(0,o.m)(new Date(e.created_at),{addSuffix:!0})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)(d.$,{variant:"ghost",size:"icon",className:"text-slate-400 hover:text-white",onClick:e=>{e.stopPropagation()},children:(0,a.jsx)(T.A,{className:"h-4 w-4"})})})]},e.id)})})]})})})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 to-slate-950 text-white flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(y.A,{className:"h-12 w-12 text-slate-400 mx-auto"}),(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"Please log in to view tickets"}),(0,a.jsx)(d.$,{onClick:()=>X.push("/auth/login"),className:"inline-flex items-center gap-2",children:"Log In"})]})})}},9664:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9279).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},4668:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9279).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[727,882,232,466,636,593,792],()=>t(9917)),_N_E=e.O()}]);